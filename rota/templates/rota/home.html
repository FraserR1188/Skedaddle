<!-- prettier-ignore-start -->
{% extends "rota/base.html" %}
<!-- prettier-ignore-end -->

{% block title %} Home – Skedaddle Rota {%endblock %} {% block content %}
<h1>Rota Dashboard</h1>
<p style="color: #4b5563; font-size: 0.95rem">
  Welcome to the aseptic rota system.
</p>

<div
  style="
    margin-top: 1.25rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1rem;
  "
>
  <!-- ROTA CALENDAR -->
  <div
    style="
      border-radius: 8px;
      background: #ffffff;
      padding: 1rem;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
    "
  >
    <h2 style="margin-top: 0; font-size: 1.05rem">Rota calendar</h2>
    <p style="font-size: 0.9rem; color: #6b7280">
      Open the monthly rota and drill down into a specific day.
    </p>
    <a
      href="{% url 'monthly_calendar' year=today.year month=today.month %}"
      style="
        display: inline-block;
        margin-top: 0.5rem;
        padding: 0.4rem 0.75rem;
        border-radius: 999px;
        background: #2563eb;
        color: #ffffff;
        text-decoration: none;
        font-size: 0.9rem;
      "
    >
      Open monthly calendar
    </a>
  </div>

  <!-- TODAY’S ROTA -->
  <div
    style="
      border-radius: 8px;
      background: #ffffff;
      padding: 1rem;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
    "
  >
    <h2 style="margin-top: 0; font-size: 1.05rem">Today’s rota</h2>
    <p style="font-size: 0.9rem; color: #6b7280">
      Jump straight to today’s cleanroom and isolator layout.
    </p>
    <a
      href="{% url 'daily_rota' year=today.year month=today.month day=today.day %}"
      style="
        display: inline-block;
        margin-top: 0.5rem;
        padding: 0.4rem 0.75rem;
        border-radius: 999px;
        background: #0d9488;
        color: #ffffff;
        text-decoration: none;
        font-size: 0.9rem;
      "
    >
      View today’s rota
    </a>
  </div>

  <!-- STAFF MANAGEMENT -->
  <div
    style="
      border-radius: 8px;
      background: #ffffff;
      padding: 1rem;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
    "
  >
    <h2 style="margin-top: 0; font-size: 1.05rem">Staff &amp; permissions</h2>

    {% if is_manager or user.is_superuser %}
    <p style="font-size: 0.9rem; color: #6b7280">
      You have rota manager access. You can add staff and configure who is a
      Rota Manager or Viewer.
    </p>
    <div
      style="margin-top: 0.5rem; display: flex; gap: 0.5rem; flex-wrap: wrap"
    >
      <a
        href="{% url 'staff_create' %}"
        style="
          display: inline-block;
          padding: 0.4rem 0.75rem;
          border-radius: 999px;
          background: #16a34a;
          color: #ffffff;
          text-decoration: none;
          font-size: 0.9rem;
        "
      >
        Add staff member
      </a>
      <a
        href="{% url 'staff_list' %}"
        style="
          display: inline-block;
          padding: 0.4rem 0.75rem;
          border-radius: 999px;
          background: #f3f4f6;
          color: #111827;
          text-decoration: none;
          font-size: 0.9rem;
          border: 1px solid #e5e7eb;
        "
      >
        View all staff
      </a>
    </div>
    {% else %}
    <p style="font-size: 0.9rem; color: #6b7280">
      You currently have viewer access. You can browse the rota but not edit
      staff or assignments.
    </p>
    {% endif %}
  </div>
</div>

{% endblock %}
