<!DOCTYPE html>
<html>
  <head>
    <title>Rota for {{ date|date:"j F Y" }}</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .assignment {
        border: 1px solid #ccc;
        border-radius: 6px;
        padding: 12px;
        margin-bottom: 12px;
        background: #fafafa;
        width: 380px;
      }
      .location {
        font-weight: bold;
        margin-bottom: 6px;
      }
      .no-rota {
        font-size: 1.1em;
        color: #777;
        font-style: italic;
      }
      a {
        text-decoration: none;
        color: #007bff;
      }
    </style>
  </head>

  <body>
    <h1>Rota for {{ date|date:"j F Y" }}</h1>

    {% if assignments %} {% for a in assignments %}
    <div class="assignment">
      <div class="location">
        Cleanroom: {{ a.clean_room.name }} {% if a.isolator %} — {{
        a.isolator.name }} {% endif %}
      </div>

      <div>
        <strong>Staff:</strong>
        {{ a.staff.full_name }}
        <br />
        <strong>Role:</strong>
        {{ a.staff.get_role_display }}
        <br />
        <strong>Shift:</strong>
        {{ a.shift.name }} ({{ a.shift.start_time }}–{{ a.shift.end_time }})
        <br />

        {% if a.notes %}
        <strong>Notes:</strong>
        {{ a.notes }} {% endif %}
      </div>
    </div>
    {% endfor %} {% else %}
    <p class="no-rota">No assigned rota for today.</p>
    {% endif %}

    <p>
      <a href="{% url 'monthly_calendar' date.year date.month %}">
        Back to monthly calendar
      </a>
    </p>
  </body>
</html>
