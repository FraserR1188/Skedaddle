{% extends "rota/base.html" %}

{% block title %}Monthly rota – {{ month_name }} {{ year }}{% endblock %}

{% block content %}
<div class="monthly-wrapper">

  <div class="page-header">
    <h1>Monthly rota – {{ month_name }} {{ year }}</h1>
    <div class="nav-links">
      <a href="{% url 'monthly_calendar' prev_year prev_month %}">
        &larr; Previous
      </a>
      <a href="{% url 'monthly_calendar' next_year next_month %}">
        Next &rarr;
      </a>
    </div>
  </div>

  <div class="calendar-legend">
    <div class="legend-item">
      <span class="legend-swatch legend-today"></span>
      <span>Today</span>
    </div>
    <div class="legend-item">
      <span class="legend-swatch legend-has-rota"></span>
      <span>Has rota</span>
    </div>
    <div class="legend-item">
      <span class="legend-swatch legend-other-month"></span>
      <span>Other month</span>
    </div>
    <div class="legend-item">
      <span class="legend-swatch legend-past"></span>
      <span>Past days</span>
    </div>
  </div>
  
  <div class="p-6 m-6 text-white bg-black text-3xl rounded-xl">
  Tailwind is working ✅
  </div>

  <div class="calendar-card">
    <table class="rota-calendar-table">
      <thead>
        <tr>
          <th>Mon</th>
          <th>Tue</th>
          <th>Wed</th>
          <th>Thu</th>
          <th>Fri</th>
          <th>Sat</th>
          <th>Sun</th>
        </tr>
      </thead>
      <tbody>
        {% for week in weeks %}
          <tr>
            {% for d in week %}
              {% if d.month != month %}
                <td class="rota-calendar-other-month"></td>
              {% else %}
                <td
                  class="
                    {% if d == today %}rota-calendar-today{% endif %}
                    {% if d in rotadays %} rota-calendar-has-rota{% endif %}
                    {% if d < today %} rota-calendar-past{% endif %}
                  "
                >
                  <a href="{% url 'daily_rota' d.year d.month d.day %}">
                    {{ d.day }}
                  </a>
                </td>
              {% endif %}
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
